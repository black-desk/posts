# 如何找到库

整个Linux桌面生态一直有一个很大的问题，
软件的跨发行版分发存在着巨大的障碍。

不同的发行版提供的可用编程接口，
以动态库以及其他以进程间通信接口为例，
有巨大的区别。
同一发行版的不同版本之间也同样存在区别和差异。

这意味着如果一个应用程序需要跨发行版分发，
单纯从库的兼容性方面考虑，
问题都是巨大的：
一个二进制按照默认的配置，
它其实并没有办法完全决定ld加载自己的时候会找到哪些动态库。

## 传统的说法

虽然从传统的Linux软件分发角度，
应用程序使用的库就应该由系统提供，
这样系统管理员以及系统的开发者可以简单地为所有应用程序修复问题。
兼容性问题应当由系统的开发者自行确保库提供的符号的兼容性。

但是考虑到：

1. 系统管理员的平均水平其实并不高，
   尤其是桌面场景下系统管理员的角色通常就是用户自己；

2. 系统的开发者的平均水平其实也并不高，
   而且囿于人力成本问题
   （对于商业公司而言是研发的工资，对于开源社区而言就只是开发者的个人时间）
   其实大多数发行版并没有能力，也并不想维护系统层面的二进制兼容性；

3. 对于应用的开发者、分发者以及应用的最终用户来说，
   其实程序自己使用自己的库，才是大家想要的。

所以其实传统的做法并不能契合目前Linux桌面的需要。

ld的默认库搜索路径中只包含了系统以及系统管理员提供的库的路径，
这直接导致了跨发行版生态的恶化。

但是，这只是默认的。

ld真的没有办法达到类似Windows中应用程序默认使用自己携带的库的效果么？

答案是有，而且说实话比现成的其他临时解决方案要好用的多。

## 从相对位置找库
